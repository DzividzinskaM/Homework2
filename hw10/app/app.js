!function(t){var e={};function o(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){t.exports=o(1)},function(t,e,o){"use strict";o.r(e);class s extends class{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(e=>e!==t)}notify(t){this.observers.forEach(e=>e(t))}}{constructor(){super(),this.todos=[],this._defaultTodo={text:"",done:!1}}add(t){let e={id:this.getNewTodoId(),...this._defaultTodo,...t};this.todos.push(e),this.notify(this.todos)}remove(t){this.todos=this.todos.filter(e=>e.id!==t),this.notify(this.todos)}get(){return this.todos}getTodo(t){return this.todos.find(e=>e.id===t)}getNewTodoId(){return(this.todos.length?this.todos[this.todos.length-1].id:0)+1}getFilteredBySearch(t){return this.todos.filter(e=>-1!==e.text.search(t))}}class i{constructor(t,e){this.$host=$(t),this.$list=this.$host.find(".todos__list"),this.$todoText=this.$host.find(".todos-form__input"),this.$addTodo=this.$host.find(".todos-form__add"),this.list=document.querySelector(".todos__list"),this.deleteTodo=".todos__item-delete",this.idAttr="id-attr",this.todosModel=e.todosModel,this.todosModel.subscribe(t=>{this.render(t)}),this.listen()}listen(){this.listenAdding(),this.listenRemoving()}listenAdding(){this.$addTodo.click(()=>{const t=this.$todoText.val();if(!t)return;const e={text:t};this.todosModel.add(e)})}listenRemoving(){this.list.addEventListener("click",t=>{if(t.target.matches(this.deleteTodo)){let e=t.target.parentElement.getAttribute(this.idAttr);this.todosModel.remove(+e)}})}render(t){let e="";t.forEach(t=>{e+=`\n        <div class="todos__item todo" id-attr=${t.id}><input type="checkbox" class="todos__item-delete">${t.text}</div>\n      `}),this.$list.html(e)}}!function(){const t={todosModel:new s};$('[data-component="todos"]').each((e,o)=>{new i(o,{todosModel:t.todosModel})})}()}]);