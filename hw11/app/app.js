!function(t){var o={};function e(s){if(o[s])return o[s].exports;var n=o[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=o,e.d=function(t,o,s){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)e.d(s,n,function(o){return t[o]}.bind(null,n));return s},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=1)}([function(t,o,e){"use strict";function s(){const t={"todos-container":function(){return'\n      <div class="todos__form">\n        Todos Form\n      </div>\n      <div class="todos__list">\n        TodosList\n      </div>\n    '},todo:function(t){let o="";return t.forEach(t=>{o+=`\n      <div class="todos__item todo">\n      <input type="checkbox" class="todos__item-delete" id-attr=${t.data.id}>${t.data.text}\n      </div>\n      `}),o},form:function(){return console.log("form"),'\n        <input type="text" class="todos-form__input" />\n        <button class="todos-form__add">Add todo</button>\n      '}};return t}e.r(o),e.d(o,"templates",(function(){return s}))},function(t,o,e){t.exports=e(3)},,function(t,o,e){"use strict";e.r(o);class s{constructor(t={}){this.host=$('<div class="todos__list"></div>'),this.properties=t}render(){return this.host.html(window.Templates.todo(this.properties.todosCollection.getRaw())),this.host}}class n{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(o=>o!==t)}notify(t){this.observers.forEach(o=>o(t))}}class i extends n{constructor(t){super(),this.data=t||{}}set(t){this.data={...t},this.notify(this.data)}update(t){this.data={...this.data,...t},this.notify(this.data)}get(t){return this.data[t]}getRaw(){return this.data}}new i({id:10,name:"sdfsdf"}).get("name");class r extends i{constructor(t={}){super({id:t.id,text:t.text||"",done:t.done||!1})}}class d extends n{constructor(t,o){super(),this.model=t,this.collection=o||[]}_getNewId(){const t=this.collection[this.collection.length-1];return t?t.get("id")+1:1}add(t){let o=t;t.id||(o.id=this._getNewId()),t instanceof this.model||(o=new this.model(o)),this.collection.push(o),this.notify(this.collection)}remove(t){this.collection=this.collection.filter(o=>o.get("id")!==t),this.notify(this.collection)}getRaw(){return this.collection}}class c extends d{constructor(t=[]){super(r,t)}}class l{constructor(){this.host=$('<div class="todos__form"></div>')}render(){return this.host.html(window.Templates.form()),this.host}}class a{constructor(){this.host=$("<div class='todos'></div>"),this.todosCollection=new c,this.todosCollection.add({text:"Make smth 1"}),this.todosCollection.add({text:"Make smth 2"}),this.todosCollection.add({text:"Make smth 3"})}renderContainer(){return this.host.html(window.Templates["todos-container"]()),this.host.find(".todos__list").html(new s({todosCollection:this.todosCollection}).render()),this.host.find(".todos__form").html((new l).render()),this.host}}var u=e(0);window.Templates=Object(u.templates)(),$("#todos-app").html((new a).renderContainer())}]);